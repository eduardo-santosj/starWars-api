var inputHidden=document.querySelector("#tema-filtro");function montaTr(e){var a=document.createElement("tr");return a.classList.add("pesquisa"),"planets"==inputHidden.value&&(a.appendChild(montaTd(e.name,"info-one")),a.appendChild(montaTd(e.rotation_period,"info-two")),a.appendChild(montaTd(e.orbital_period,"info-three")),a.appendChild(montaTd(e.climate,"info-four")),a.appendChild(montaTd(e.terrain,"info-five"))),"starships"==inputHidden.value&&(a.appendChild(montaTd(e.name,"info-one")),a.appendChild(montaTd(e.model,"info-two")),a.appendChild(montaTd(e.manufacturer,"info-three")),a.appendChild(montaTd(e.cost_in_credits,"info-four")),a.appendChild(montaTd(e.starship_class,"info-five"))),"vehicles"==inputHidden.value&&(a.appendChild(montaTd(e.name,"info-one")),a.appendChild(montaTd(e.model,"info-two")),a.appendChild(montaTd(e.manufacturer,"info-three")),a.appendChild(montaTd(e.cost_in_credits,"info-four")),a.appendChild(montaTd(e.vehicle_class,"info-five"))),"people"==inputHidden.value&&(a.appendChild(montaTd(e.name,"info-one")),a.appendChild(montaTd(e.hair_color,"info-two")),a.appendChild(montaTd(e.birth_year,"info-three")),a.appendChild(montaTd(e.gender,"info-four")),a.appendChild(montaTd(e.films.length,"info-five"))),"films"==inputHidden.value&&(a.appendChild(montaTd(e.title,"info-one")),a.appendChild(montaTd(e.episode_id,"info-two")),a.appendChild(montaTd(e.release_date,"info-three")),a.appendChild(montaTd(e.director,"info-four")),a.appendChild(montaTd(e.planets.length,"info-five"))),"species"==inputHidden.value&&(a.appendChild(montaTd(e.name,"info-one")),a.appendChild(montaTd(e.language,"info-two")),a.appendChild(montaTd(e.designation,"info-three")),a.appendChild(montaTd(e.classification,"info-four")),a.appendChild(montaTd(e.skin_colors,"info-five"))),a}function montaTd(e,a){var t=document.createElement("td");return t.classList.add(a),t.textContent=e,t}function adicionaPesquisaNaTabela(e){var a=montaTr(e);if("planets"==inputHidden.value)var t=document.querySelector("#tabela-planeta");if("starships"==inputHidden.value)t=document.querySelector("#tabela-nave");if("vehicles"==inputHidden.value)t=document.querySelector("#tabela-carro");if("people"==inputHidden.value)t=document.querySelector("#tabela-pessoa");if("films"==inputHidden.value)t=document.querySelector("#tabela-filmes");if("species"==inputHidden.value)t=document.querySelector("#tabela-especie");t.appendChild(a)}var botaoAdicionar=document.querySelector("#buscar-filme"),buscaTema=document.querySelector("#tema"),tituloH1=(inputHidden=document.querySelector("#tema-filtro"),document.querySelector("#NomeEscolha")),sectionBg=document.querySelector("#bg"),divFiltre=document.querySelector("#filtre"),tabelaPlaneta=document.querySelector("#table-planeta"),tabelaNave=document.querySelector("#table-naves"),tabelaCarros=document.querySelector("#table-carros"),tabelaPessoa=document.querySelector("#table-people"),tabelaFilmes=document.querySelector("#table-films"),tabelaEspecie=document.querySelector("#table-species");buscaTema.addEventListener("change",function(e){var a=e.target,t=a.options[a.selectedIndex].value;tituloH1.innerHTML=a.options[a.selectedIndex].label,sectionBg.removeAttribute("class"),sectionBg.setAttribute("class",a.options[a.selectedIndex].value),inputHidden.value=t,"escolha"==inputHidden.value&&(tabelaPlaneta.style.display="none",tabelaNave.style.display="none",tabelaCarros.style.display="none",tabelaPessoa.style.display="none",tabelaFilmes.style.display="none",tabelaEspecie.style.display="none",botaoAdicionar.style.display="none",divFiltre.style.display="none"),"planets"==inputHidden.value&&(tabelaPlaneta.style.display="table",tabelaNave.style.display="none",tabelaCarros.style.display="none",tabelaPessoa.style.display="none",tabelaFilmes.style.display="none",tabelaEspecie.style.display="none",botaoAdicionar.style.display="block",divFiltre.style.display="block"),"starships"==inputHidden.value&&(tabelaPlaneta.style.display="none",tabelaNave.style.display="table",tabelaCarros.style.display="none",tabelaPessoa.style.display="none",tabelaFilmes.style.display="none",tabelaEspecie.style.display="none",botaoAdicionar.style.display="block",divFiltre.style.display="block"),"vehicles"==inputHidden.value&&(tabelaPlaneta.style.display="none",tabelaNave.style.display="none",tabelaCarros.style.display="table",tabelaPessoa.style.display="none",tabelaFilmes.style.display="none",tabelaEspecie.style.display="none",botaoAdicionar.style.display="block",divFiltre.style.display="block"),"people"==inputHidden.value&&(tabelaPlaneta.style.display="none",tabelaNave.style.display="none",tabelaCarros.style.display="none",tabelaPessoa.style.display="table",tabelaFilmes.style.display="none",tabelaEspecie.style.display="none",botaoAdicionar.style.display="block",divFiltre.style.display="block"),"films"==inputHidden.value&&(tabelaPlaneta.style.display="none",tabelaNave.style.display="none",tabelaCarros.style.display="none",tabelaPessoa.style.display="none",tabelaFilmes.style.display="table",tabelaEspecie.style.display="none",botaoAdicionar.style.display="block",divFiltre.style.display="block"),"species"==inputHidden.value&&(tabelaPlaneta.style.display="none",tabelaNave.style.display="none",tabelaCarros.style.display="none",tabelaPessoa.style.display="none",tabelaFilmes.style.display="none",tabelaEspecie.style.display="table",botaoAdicionar.style.display="block",divFiltre.style.display="block")}),botaoAdicionar.addEventListener("click",function(){var t=new XMLHttpRequest;t.open("GET","https://swapi.co/api/"+inputHidden.value+"/",!0),t.addEventListener("load",function(){var e=document.querySelector("#erro-ajax");if(200==t.status){e.classList.add("invisivel");var a=t.responseText;JSON.parse(a).results.forEach(function(e){console.log(e),adicionaPesquisaNaTabela(e)})}else e.classList.remove("invisivel")}),t.send()});var campoFiltro=document.querySelector("#filtrar-tabela");campoFiltro.addEventListener("input",function(){var e=document.querySelectorAll(".pesquisa");if(0<this.value.length)for(var a=0;a<e.length;a++){var t=(l=e[a]).querySelector(".info-one").textContent;new RegExp(this.value,"i").test(t)?l.classList.remove("invisivel"):l.classList.add("invisivel")}else for(a=0;a<e.length;a++){var l;(l=e[a]).classList.remove("invisivel")}});var App=App||{};jQuery,App.Main={init:function(){this.cacheSelectors(),this.bindScripts()},cacheSelectors:function(){this.dataScript=document.querySelectorAll("[data-script]")},bindScripts:function(){for(var t=Array.prototype.slice.call(this.dataScript).map(function(e){return e.getAttribute("data-script")}),e=t.filter(function(e,a){return t.indexOf(e)==a}),a=0;a<e.length;a++)App[e[a]].init()}},document.addEventListener("DOMContentLoaded",function(){App.Main.init()});